---
id: 12682eca-590e-4610-9b40-4391e1551af4
title: GHCi in the Browser - Vaibhav Sagar
tags:
  - RSS
date_published: 2024-07-03 00:00:00
---

# GHCi in the Browser - Vaibhav Sagar
#Omnivore

[Read on Omnivore](https://omnivore.app/me/gh-ci-in-the-browser-vaibhav-sagar-190797cb8f9)
[Read Original](https://vaibhavsagar.com/blog/2024/07/03/ghci-in-the-browser/)



 Posted on 3 July 2024

I’m happy to announce that you can now run GHCi entirely in your browser[1](#fn1).

## Where?

[Here](https:&#x2F;&#x2F;vaibhavsagar.com&#x2F;amd64-ghc-wasi-demo).

## How?

I used [container2wasm](https:&#x2F;&#x2F;github.com&#x2F;ktock&#x2F;container2wasm) to convert an OCI image containing GHC to a WASM blob that I could serve using a lightly modified [container2wasm-demo](https:&#x2F;&#x2F;github.com&#x2F;ktock&#x2F;container2wasm-demo). If you’re curious, the website repo is[here](https:&#x2F;&#x2F;github.com&#x2F;vaibhavsagar&#x2F;amd64-ghc-wasi-demo) and the chunks of WASM are [here](https:&#x2F;&#x2F;github.com&#x2F;vaibhavsagar&#x2F;amd64-ghc-wasi-container).

As of this writing, only images with an uncompressed size below 2GB can be used with &#x60;container2wasm&#x60; (tracked[here](https:&#x2F;&#x2F;github.com&#x2F;ktock&#x2F;container2wasm&#x2F;issues&#x2F;230)) and my initial attempts using an OCI image generated by Nix were unsuccessful because of duplicate filenames (tracked[here](https:&#x2F;&#x2F;github.com&#x2F;ktock&#x2F;container2wasm&#x2F;issues&#x2F;263)).

## Why?

I’ve wanted to do something like this for a long time. In my capacity as a maintainer of [IHaskell](https:&#x2F;&#x2F;github.com&#x2F;IHaskell&#x2F;IHaskell), installation issues are the most common category of support request I receive. Wouldn’t it be great if a user could simply navigate to a webpage and have a correctly configured Jupyter notebook waiting for them? The Jupyter folks also seem to be thinking the same thing, based on the existence of[JupyterLite](https:&#x2F;&#x2F;jupyterlite.readthedocs.io&#x2F;en&#x2F;stable&#x2F;). Unfortunately we’re a long way off from Haskell support[2](#fn2), but I hope my proof-of-concept shows that this is possible.

Even outside Jupyter-land, a fully-functional GHCi REPL in the browser would be generally useful. For example, currently[Haskell.org](https:&#x2F;&#x2F;www.haskell.org&#x2F;) has a “Try it!” section where you can enter expressions, which are currently passed to a backend server to execute. A client-side GHCi could provide a better experience and allow us to get rid of the backend entirely. Another wild idea: the Hackage documentation for a package could provide a REPL with that package pre-installed for users to try out immediately. Wouldn’t that be amazing?

---

1. As long as your browser supports WebAssembly and you are willing to download \~700MB of WASM.[↩︎](#fnref1)
2. It’s not something I’m working on and I don’t know how to go from this Goldbergian blob of WASM to a kernel that would work with JupyterLite. If you have ideas, please get in touch![↩︎](#fnref2)